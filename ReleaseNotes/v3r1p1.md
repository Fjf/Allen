2022-11-10 Allen v3r1p1
===

This version uses
Rec [v35r1p1](../../../../Rec/-/tags/v35r1p1),
Lbcom [v34r1p1](../../../../Lbcom/-/tags/v34r1p1),
LHCb [v54r1p1](../../../../LHCb/-/tags/v54r1p1),
Gaudi [v36r8](../../../../Gaudi/-/tags/v36r8),
Detector [v1r5p1](../../../../Detector/-/tags/v1r5p1) and
This version uses LCG [101a](http://lcginfo.cern.ch/release/101a_LHCB_7/) with ROOT 6.24.08.

This version is released on `v3r1-patches` branch.
It is a snapshot of what was used online for the __VDM data taking__.
Not all changes listed below are necessarily relevant for the VDM sequence (`hlt1_pp_vdm_bgi`).

Built relative to Allen [v3r1](/../../tags/v3r1), with the following commits on top. When an existing MR was used to cherry-pick commits, it is referenced and relevant commits are grouped.

- Changes __not__ cherry-picked from a MR
  - 36298a00d - Changes for VDM sequence (RTA)
  - 4fd2a05b6 - WIP: Prescale physics lines (RTA)
  - 3248b29f3 - Add sequence for run with magnet off (RTA)
  - 00aad02ba - correct range for Kstopipi and prescale for NoBias line (@cagapopo)
- Fix invalid read when no vertex is associated, !1056 (@raaij)
  - 8468f5f3b - Fix invalid read when no vertex is associated (@raaij)
- Fix race condition in sub-bank maker, !1054 (@thboettc)
  - 93f3e83b7 - Fix race condition in sub-bank maker (@thboettc)
- Fix ECal Lumi counters and add some histograms (off by default), !1053 (@raaij)
  - 2f4dc15fb - Reduce grid dim to avoid empty threads (@raaij)
  - 6ec1f5780 - Switch to sum_ET in the counters instead of sum_E (@raaij)
  - 3b5ae05c5 - Fix ECal Lumi counters and add some histograms (off by default) (@raaij)
- Implementation of PV-independent BGI lines, !1050 (@spradlin)
  - c9c5a52bc - Prescaled the interaction-region beam-beam line. (@spradlin)
  - f3efc8f25 - Created a filter that selects events based on number of VELO tracks with poca in a configurable cylinder around the beamline. (@spradlin)
- Loose reco configuration for first data taking, !1046 (@dovombru)
  - a1280b3c6 - add monitoring for PV quantities and make chi2 cuts properties (@dovombru)
  - ba72420ce - Add possibility to offset beam position to DumpBeamline (@raaij)
  - 71fde1232 - ad pv sequence with VP banks and no GEC (@cagapopo)
- Lambda to proton pion line, !1035 (@mstahl)
  - c8eed597a - add Lambda to proton pion line for commissioning (@mstahl)
- Monitoring pit, !1047 (@cagapopo)
  - 34ad91652 - KsToPiPi line mass plot for monitoring (@cagapopo)
  - eff4e3cc7 - enable mass monitoring (@cagapopo)
  - 8fd8c4809 - fixed track monitoring histrograms (@cagapopo)
  - e24897cc2 - fix pi0 line merge (Kate Richardson)
  - a257b68ad - pi0 line (Kate Richardson)
  - 6934d9ffe - jpsi mass histo (Kate Richardson)
  - 41570caf5 - d2kpi (Kate Richardson)
  - 7fd4dd8ac - number of tracks / event histograms (@cagapopo)
  - 2ed5daa4f - calo cluster counter (@cagapopo)
  - 976f90e49 - monitoring counters for trackers (@cagapopo)
- no gec and veloSP lines for pit + change FT -> FTCluster name in passthrough lines, !1018 (@cagapopo)
  - 6be947a03 - deleted calo_plus_lumi (supersceded by calo_prescaled_plus_lumi) and fixed prescaled passthrough line (@cagapopo)
  - 3a48dd201 - prescaled smog bin bias line ; changed from post scale to pre scale (@cagapopo)
  - 57b8817dc - put 0.04 prescaler on passthrough lines of HLT1 sequence (@cagapopo)
  - 0040dccd4 - no gec and veloSP lines for pit + change FT -> FTCluster name in passthrough lines (@cagapopo)
- Follow for removal of Det/DetCond in DD4hep builds, !1044 (@raaij)
  - 60063eb4b - Fix for removal of Det/DetCond
